{% load format %}

<style>

.High{
    color:green;
    font-weight: 800;
}
.Medium{
    color:orange;
    font-weight: 500;
}
.Low{
    color: grey;
}

</style>

<div id="site_taxa_content">
    {% if request.user.is_authenticated %}
    {% csrf_token %}
    <input style="display: none;" name="info" value="site_{{object.pk}}">
    <input class="fill_modal" type="file" id="fauna-batch-input" data-url="{% url 'fauna_upload' %}">
    {% endif %}
    <div style="padding-top: 20px;" id='profile-taxa'>
        <div class="container">
            <div class="columns" style="flex-wrap: nowrap; overflow: scroll;">
              <div class="column">
                    <strong>Layers</strong>
                    <table class="table">
                        <thead>
                            <tr>
                                <th><div style="height: 50px;"></div></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for layer in object.layer.all %}
                            <tr>
                                <td><div style="height:12px;white-space: nowrap;">{{layer.name}}</div></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
              </div>
              {% for fam in taxa %}
              <div class="column">
                <strong>{{fam}}</strong>
                <table class="table">
                    <thead>
                        <tr>
                            {% for sp in taxa|lookup:fam %}
                            <td><div style="height: 50px;"><i>{{sp.scientific_name}}</i></div></td>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for layer in object.layer.all %}
                        <tr>
                            {% for sp in taxa|lookup:fam %}
                            <td><div style="height:12px;">
                                {% if taxa|lookup:fam|lookup:sp|lookup:layer %}
                                    <span class="{{taxa|lookup:fam|lookup:sp|lookup:layer}}">
                                        {{ taxa|lookup:fam|lookup:sp|lookup:layer }}
                                    </span>
                                {% else %}
                                    -
                                {% endif %}
                            </div></td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
              </div>
              {% endfor %}
            </div>
        </div>
    </div>
</div>







