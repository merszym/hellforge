{# this template is used by the editorjs reference plugin to open a reference-search modal #}
{# it is also used by different models to search for references (and add them) #}
{# so we need to hand over the origin model to the search function #}

{% load static %}
<form>
<div class="input-group">
    <span class="input-group-addon"><i class="form-icon icon icon-search"></i> Reference</span>
    {% csrf_token %}
    <input name="keyword" id="search-input" type="text" class="form-input" placeholder="Search"
    hx-post="{% url 'main_generic_search' %}"
    hx-target="#reference-search-appear"
    hx-trigger="keyup changed delay:0.1s"
    >
    <a href="{% url 'ref_add' %}" target="_blank" class="btn btn-primary input-group-btn tooltip tooltip-left" data-tooltip="Add new Reference"><i class="icon icon-plus"></i></a>
</div>
<input name="origin" value="{{object.model}}_{{object.pk}}" style="display: none;"/>
<input name="model" value="reference" style="display: none;"/>
</form>
<div id="reference-search-appear"></div>